.. _openai_diff:

==========================
Difference with openai_ros
==========================

This package was built upon the structure of the `openai_ros <http://wiki.ros.org/openai_ros>`_ package created by `the construct <https://www.theconstructsim.com/>`_.
As a result, they share their general package structure. Both packages split the Gym environments into separate ``task``, ``robot`` and ``gazebo`` classes, and both use
a ``gazebo_connection`` and ``controllers_connection`` class to communicate with Gazebo and the controllers. Apart from that, the code has diverged significantly from the `openai_ros <http://wiki.ros.org/openai_ros>`_
package and is no longer backwards compatible. The most significant differences between the two are displayed in the table below:

+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
|                                   | openai_ros                                                | ros_gazebo_gym                                                        |
+===================================+===========================================================+=======================================================================+
| License                           | ILPG                                                      | MIT                                                                   |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Import behaviour                  | uses ``StartOpenAI_ROS_Environment`` function             | Direct environment imports, similarly to other gymnasium environments |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Focus                             | simulated systems                                         | Simulated and real systems                                            |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| ROS Noetic compatible             | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| ROS EOL compatible                | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Uses black/flake8 conventions     | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Code quality pre-commit hooks     | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Code quality gh-actions           | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Clones environment repository     | ✅                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Installs system dependencies      | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Builds catkin workspace           | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Sources catkin workspace          | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Starts roscore and runs rosinit   | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Uses failsafe subprocesses        | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Extensive documentation           | ✅                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Numpy docstrings                  | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Google docstrings                 | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Code API documentation            | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Welcomes contributions            | ✅                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Passes kwargs to environments     | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Panda environment                 | ❌                                                        | ✅                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Cartpole environment              | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Fetch environment                 | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Hopper environment                | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Husarion environment              | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Iriwam environment                | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Moving_cube environment           | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Parrotdrone environment           | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Sawyer environment                | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Shadow_tc environment             | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Sumit_xl environment              | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Turtlebot2 environment            | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Turtlebot3 environment            | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+
| Wamv environment                  | ✅                                                        | ❌                                                                    |
+-----------------------------------+-----------------------------------------------------------+-----------------------------------------------------------------------+

As the table above shows, the :ros-gazebo-gym:`ros_gazebo_gym <>` package works in ROS noetic, is easier to work with, is fully open-source, and comes with extensive code API documentation. The `openai_ros <http://wiki.ros.org/openai_ros>`_
on the other hand, contains more task environments and is compatible with EOL ROS versions. Nevertheless, new environments can easily be added to the :ros-gazebo-gym:`ros_gazebo_gym <>` package by following :ref:`this guide <add_new_env>`.

.. important::

    Although the :ros-gazebo-gym:`ros_gazebo_gym <>` package diverged significantly from the `openai_ros <http://wiki.ros.org/openai_ros>`_ package with some effort,
    it can be back-ported into the `openai_ros <http://wiki.ros.org/openai_ros>`_ package under an MIT license. I'm happy to do this if this achieves enough support from the ROS community.
